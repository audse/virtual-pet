[gd_scene load_steps=11 format=3 uid="uid://c7xjorqjkaula"]

[ext_resource type="Script" path="res://apps/world/world.gd" id="1_xch6f"]
[ext_resource type="Script" path="res://apps/world/world_renderer.gd" id="3_3p2vm"]
[ext_resource type="PackedScene" uid="uid://b6dya0dbxdg1f" path="res://environment/scenes/environment.tscn" id="3_nx4s3"]
[ext_resource type="PackedScene" uid="uid://cagfmccv3vm8w" path="res://interface/interface.tscn" id="4_ffd0p"]

[sub_resource type="NavigationMesh" id="NavigationMesh_8ad7w"]
vertices = PackedVector3Array(-18.5, 0.55, -24.5, -24.5, 0.55, -24.5, -24.5, 0.55, -18.5, -24.5, 0.55, 18.25, -24.5, 0.55, 24.5, -18.5, 0.55, 24.5, 24.5, 0.55, -18.5, 24.5, 0.55, -24.5, 18.25, 0.55, -24.5, 18.25, 0.55, 24.5, 24.5, 0.55, 24.5, 24.5, 0.55, 18.25, -24.5, 0.55, 12.25, -24.5, 0.55, 18.25, -18.5, 0.55, 24.5, -12.25, 0.55, 24.5, 24.5, 0.55, -18.5, 18.25, 0.55, -24.5, 12.25, 0.55, -24.5, 24.5, 0.55, -12.25, -12.25, 0.55, -24.5, -18.5, 0.55, -24.5, -24.5, 0.55, -18.5, -24.5, 0.55, -12.25, 12.25, 0.55, 24.5, 18.25, 0.55, 24.5, 24.5, 0.55, 18.25, 6, 0.55, 24.5, 24.5, 0.55, 12.25, 24.5, 0.55, 6, 0, 0.55, 24.5, 12.25, 0.55, 24.5, 24.5, 0.55, 18.25, 24.5, 0.55, 12.25, 6, 0.55, 24.5, 0, 0.55, -24.5, -6.25, 0.55, -24.5, -24.5, 0.55, -6.25, -24.5, 0.55, 0, 24.5, 0.55, 0, 0, 0.55, -24.5, -24.5, 0.55, 0, -6.25, 0.55, 24.5, 0, 0.55, 24.5, 24.5, 0.55, 6, -24.5, 0.55, 12.25, -12.25, 0.55, 24.5, -6.25, 0.55, 24.5, -24.5, 0.55, 6, 24.5, 0.55, -6.25, 24.5, 0.55, -12.25, 12.25, 0.55, -24.5, 6, 0.55, -24.5, -6.25, 0.55, -24.5, -12.25, 0.55, -24.5, -24.5, 0.55, -12.25, -24.5, 0.55, -6.25, -24.5, 0.55, 0, -24.5, 0.55, 6, -6.25, 0.55, 24.5, 24.5, 0.55, -6.25, 6, 0.55, -24.5, 0, 0.55, -24.5, 24.5, 0.55, 0)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(8, 7, 6), PackedInt32Array(11, 10, 9), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(17, 16, 18), PackedInt32Array(18, 16, 19), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(26, 25, 24), PackedInt32Array(28, 27, 29), PackedInt32Array(29, 27, 30), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(36, 35, 37), PackedInt32Array(37, 35, 38), PackedInt32Array(44, 43, 39), PackedInt32Array(39, 43, 42), PackedInt32Array(39, 42, 41), PackedInt32Array(39, 41, 40), PackedInt32Array(46, 45, 47), PackedInt32Array(47, 45, 48), PackedInt32Array(50, 49, 51), PackedInt32Array(51, 49, 52), PackedInt32Array(54, 53, 55), PackedInt32Array(55, 53, 56), PackedInt32Array(59, 58, 57), PackedInt32Array(61, 60, 62), PackedInt32Array(62, 60, 63)]

[sub_resource type="Shader" id="Shader_x7xup"]
code = "shader_type spatial;

uniform sampler2D noise;

void vertex () {
	float height_offset = texture(noise, VERTEX.xz).r;
	VERTEX.y += height_offset;
}


void fragment () {
	// Place fragment code here.
	ALBEDO.rgb = vec3(0.1);
}
"

[sub_resource type="FastNoiseLite" id="FastNoiseLite_70v7b"]
frequency = 0.005
fractal_octaves = 1

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_cu42c"]
seamless = true
noise = SubResource("FastNoiseLite_70v7b")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_bn83b"]
render_priority = 0
shader = SubResource("Shader_x7xup")
shader_parameter/noise = SubResource("NoiseTexture2D_cu42c")

[sub_resource type="PlaneMesh" id="PlaneMesh_6kcch"]
material = SubResource("ShaderMaterial_bn83b")
size = Vector2(50, 50)
subdivide_width = 10
subdivide_depth = 10

[node name="World" type="Node"]
script = ExtResource("1_xch6f")

[node name="Renderer" type="Node3D" parent="."]
unique_name_in_owner = true
script = ExtResource("3_3p2vm")

[node name="Environment" parent="Renderer" instance=ExtResource("3_nx4s3")]

[node name="Camera3D" type="Camera3D" parent="Renderer"]
transform = Transform3D(0.766045, -0.413176, 0.492403, 0, 0.766044, 0.642788, -0.642787, -0.492404, 0.586824, 5, 7, 5)
projection = 1
current = true
size = 15.0

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Renderer"]
navmesh = SubResource("NavigationMesh_8ad7w")

[node name="Plane" type="MeshInstance3D" parent="Renderer/NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
mesh = SubResource("PlaneMesh_6kcch")
skeleton = NodePath("")

[node name="Interface" parent="." instance=ExtResource("4_ffd0p")]
